<form id="registro-form">
  <input type="hidden" name="id" id="id" value="">
  <label>Nombre: <input type="text" name="nombre" required></label><br>
  <label>Teléfono: <input type="tel" name="telefono" required></label><br>
  <label>Población: <input type="text" name="poblacion" required></label><br>
  <button type="submit">Enviar</button>
</form>

<script>
  // Obtener el ID del boleto desde la URL
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get('id');
  document.getElementById('id').value = id;

  // Manejar el envío del formulario
  document.getElementById('registro-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = e.target;
    const data = new FormData(form);
    const params = new URLSearchParams(data);

    fetch(https://script.google.com/macros/s/AKfycbxJ_yAdTG2y-AKsBdsja5TZRPrlMa_lbRY80wgCMb3pqmdIgYRM6xndsKpMrcGCKXY/exec, {
      method: 'POST',
      body: params
    })
    .then(response => response.text())
    .then(result => {
      if (result === 'OK') {
        alert('Registro exitoso');
        window.location.href = 'panel-boletos-rifa.html';
      } else {
        alert('Error al registrar');
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Error al registrar');
    });
  });
</script>
