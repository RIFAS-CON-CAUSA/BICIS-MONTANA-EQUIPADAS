<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Generador BoletosRifa</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getFirestore, setDoc, doc } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC-9BVF6sfbA1IcmawTtxFiwHOyHv0Qa3g",
      authDomain: "rifas-con-causa.firebaseapp.com",
      projectId: "rifas-con-causa",
      storageBucket: "rifas-con-causa.appspot.com",
      messagingSenderId: "347417635634",
      appId: "1:347417635634:web:3ddab8921d26707910452b"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function generarBoletos() {
      // Crear array 000-999
      const numeros = Array.from({length: 1000}, (_, i) => i.toString().padStart(3, '0'));

      // Mezclar aleatoriamente
      numeros.sort(() => Math.random() - 0.5);

      // Repartir en 100 boletos (10 series cada uno)
      for (let i = 0; i < 100; i++) {
        const series = numeros.slice(i * 10, (i + 1) * 10);
        const boletoId = `boleto-${i+1}`;

        await setDoc(doc(db, "BoletosRifa", boletoId), {
          idboleto: i + 1,
          nombre: "",
          telefono: "",
          poblacion: "",
          estatus: "disponible",
          series: series,
          formaPago: "",
          modificadoPor: "",
          timestamp: new Date()
        });

        console.log(`✅ Creado ${boletoId} con series: ${series.join(", ")}`);
      }

      alert("✅ Boletos creados correctamente en Firestore.");
    }

    window.addEventListener('DOMContentLoaded', generarBoletos);
  </script>
</head>
<body>
  <h2>Generando boletos en Firestore...</h2>
  <p>Este proceso se ejecutará automáticamente.</p>
</body>
</html>
