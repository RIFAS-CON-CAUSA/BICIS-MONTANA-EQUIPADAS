<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inicializar Boletos</title>
  < type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, setDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC-9BVF6sfbA1IcmawTtxFiwHOyHv0Qa3g",
      authDomain: "rifas-con-causa.firebaseapp.com",
      projectId: "rifas-con-causa",
      storageBucket: "rifas-con-causa.appspot.com",
      messagingSenderId: "347417635634",
      appId: "1:347417635634:web:3ddab8921d26707910452b"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function generarBoletos() {
      const todos = new Set();
      for (let i = 1; i <= 100; i++) {
        const numeros = [];
        while (numeros.length < 10) {
          const num = String(Math.floor(Math.random() * 1000)).padStart(3, "0");
          if (!todos.has(num)) {
            todos.add(num);
            numeros.push(num);
          }
        }
        const id = String(i).padStart(3, "0");
        await setDoc(doc(db, "boletos", id), {
          estado: "disponible",
          numeros: numeros
        });
        console.log(`Boleto #${id} registrado:`, numeros);
      }
      alert("ยก100 boletos generados y guardados exitosamente!");
    }

    window.onload = generarBoletos;
  </script>
</head>
<body>
  <h2>Generando boletos en Firebase...</h2>
</body>
</html>