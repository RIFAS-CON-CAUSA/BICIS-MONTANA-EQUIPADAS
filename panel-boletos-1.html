<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel de Boletos Registrados</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: #eefbe9;
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h2 {
      text-align: center;
      color: #1b5e20;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      margin-top: 20px;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }

    th {
      background-color: #a5d6a7;
    }

    .btn-volver {
      display: inline-block;
      background: #388e3c;
      color: white;
      padding: 10px 20px;
      margin: 20px auto;
      text-align: center;
      font-weight: bold;
      text-decoration: none;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h2>ðŸ“‹ Boletos Registrados</h2>
  <div id="tabla-boletos"></div>
  <a class="btn-volver" href="index.html">â¬… Volver al inicio</a>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script>
    // Tu configuraciÃ³n de Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyC-9BVF6sfbA1IcmawTtxFiwHOyHv0Qa3g",
      authDomain: "rifas-con-causa.firebaseapp.com",
      projectId: "rifas-con-causa",
      storageBucket: "rifas-con-causa.firebasestorage.app",
      messagingSenderId: "347417635634",
      appId: "1:347417635634:web:3ddab8921d26707910452b"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    async function cargarBoletos() {
      const tabla = document.getElementById("tabla-boletos");
      const snapshot = await db.collection("RegistroBoletos").get();

      let html = "<table><tr><th>Folio</th><th>Nombre</th><th>TelÃ©fono</th><th>PoblaciÃ³n</th><th>Estado</th><th>Fecha</th></tr>";

      snapshot.forEach(doc => {
        const d = doc.data();
        html += `<tr>
          <td>${d.idboleto}</td>
          <td>${d.Nombre}</td>
          <td>${d.Telefono}</td>
          <td>${d.Poblacion}</td>
          <td>${d.Estado}</td>
          <td>${d.Fecha ? d.Fecha.split("T")[0] : ''}</td>
        </tr>`;
      });

      html += "</table>";
      tabla.innerHTML = html;
    }

    cargarBoletos();
  </script>
</body>
</html>
