<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ğŸŸï¸ Boletos disponibles - Rifa Bicis de MontaÃ±a</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f2f2f2;
      text-align: center;
      padding: 20px;
    }
    h2 {
      margin-bottom: 20px;
    }
    .boletos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
    }
    .boleto {
      padding: 8px 14px;
      background: green;
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .ocupado {
      background: gray;
      cursor: not-allowed;
    }
    details {
      margin-top: 40px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 15px;
    }
    summary {
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>ğŸ“‹ Boletos disponibles - Rifa Bicis de MontaÃ±a</h2>
  <div class="boletos" id="boletos">Cargando...</div>

  <details>
    <summary>â„¹ï¸ Reglas del Sorteo â€“ Bicis de MontaÃ±a</summary>
    <div style="text-align: left; padding-top: 10px;">
      <p><strong>ğŸ“… Fecha del sorteo:</strong> Viernes 30 de mayo</p>

      <p><strong>ğŸ† Premios:</strong></p>
      <p><strong>1. Bicicleta Olympus (seminueva)</strong><br>
      â€¢ Cuadro de aluminio<br>
      â€¢ Freno hidrÃ¡ulico trasero<br>
      â€¢ Rines aluminio aerodinÃ¡micos R26<br>
      â€¢ SuspensiÃ³n delantera de aire con bloqueo manual<br>
      â€¢ TransmisiÃ³n 7x2<br>
      â€¢ Llantas seminuevas</p>

      <p><strong>2. Bicicleta Rising (seminueva)</strong><br>
      â€¢ SuspensiÃ³n delantera de aire con bloqueo manual<br>
      â€¢ TransmisiÃ³n 10x1<br>
      â€¢ Frenos hidrÃ¡ulicos delanteros y traseros<br>
      â€¢ Llantas seminuevas<br>
      â€¢ Rines aluminio R26<br>
      â€¢ Maza tronadora</p>

      <p><strong>ğŸ“ Contacto WhatsApp:</strong> 327 102 3282</p>

      <p><strong>ğŸ“ Regla especial:</strong><br>
      AtenciÃ³n âš ï¸ Comparte nuestra rifa.<br>
      Por <em>cada nÃºmero con el que participes</em> (uno por dÃ­a, aunque no sean seguidos),<br>
      y <strong>si resultas ganador</strong>, Â¡te llevas tambiÃ©n otra bicicleta seminueva!<br>
      ğŸ“¦ Premio adicional: una bicicleta <strong>Mercurio 26</strong> (ganadora de competencia local).<br>
      âœ… El envÃ­o serÃ¡ <strong>GRATIS a todo MÃ©xico</strong>.</p>
    </div>
  </details>

  <script>
    const URL_SHEET = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/pub?output=csv";
    const URL_FORMULARIO = "https://docs.google.com/forms/d/e/1FAIpQLSfyzWjekOZ3DtirImqSxKZJC7RVr_erc5FYn1EMtCdyQLmTjQ/viewform?usp=pp_url&entry.359823867=";

    fetch(URL_SHEET)
      .then(res => res.text())
      .then(csv => {
        const filas = csv.trim().split("\n").slice(1);
        const ocupados = filas.map(f => f.split(",")[0].padStart(3, "0"));
        const contenedor = document.getElementById("boletos");
        contenedor.innerHTML = "";
        for (let i = 0; i < 1000; i++) {
          const num = i.toString().padStart(3, "0");
          const btn = document.createElement("button");
          btn.className = "boleto";
          btn.textContent = num;
          if (ocupados.includes(num)) {
            btn.classList.add("ocupado");
            btn.disabled = true;
          } else {
            btn.onclick = () => {
              window.open(URL_FORMULARIO + num, "_blank");
            };
          }
          contenedor.appendChild(btn);
        }
      });
  </script>
</body>
</html>
